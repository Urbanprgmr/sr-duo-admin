<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Battle Royale Tournament Manager</title>
  <style>
    body {
  font-family: 'Arial', sans-serif;
  background: url('https://res.cloudinary.com/dwe3nze5h/image/upload/v1741881741/IMG_0293_lniyia.jpg') no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

h1 {
  text-align: center;
  font-size: 2.5rem;
  color: #ffcc00;
  text-shadow: 2px 2px 4px #000;
}

input, select, button, textarea {
  padding: 10px;
  margin: 5px;
  border: none;
  border-radius: 5px;
  font-size: 1rem;
}

button {
  background: #ff5722;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

button:hover {
  background: #e64a19;
}

.teams, .matches, .rules, .points-settings, .announcements {
  margin-top: 20px;
}

.team, .match, .rule, .points-setting, .announcement {
  background: rgba(255, 255, 255, 0.1);
  padding: 10px;
  margin: 10px 0;
  border-radius: 5px;
  position: relative;
}

.edit-btn, .delete-btn, .end-match-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 5px 10px;
  font-size: 0.9rem;
}

.edit-btn {
  background: #4CAF50;
  right: 80px;
}

.edit-btn:hover {
  background: #45a049;
}

.delete-btn {
  background: #f44336;
}

.delete-btn:hover {
  background: #d32f2f;
}

.end-match-btn {
  background: #2196F3;
  right: 150px;
}

.end-match-btn:hover {
  background: #1976D2;
}

select[multiple] {
  height: 150px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  padding: 8px;
  text-align: left;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

th {
  background: rgba(255, 255, 255, 0.2);
}

.toggle-buttons {
  margin-bottom: 20px;
  text-align: center;
}

.toggle-buttons button {
  margin: 5px;
  background: #555;
}

.toggle-buttons button.active {
  background: #ff5722;
}

.hidden {
  display: none;
}
  </style>
</head>
<body>
  <div class="container">
    <h1>Battle Royale Tournament Manager</h1>
    <div class="toggle-buttons">
      <button onclick="toggleSection('rules')">Toggle Rules</button>
      <button onclick="toggleSection('matches')">Toggle Matches</button>
      <button onclick="toggleSection('announcements')">Toggle Announcements</button>
    </div>
    <div id="addTeamSection">
      <h2>Add Team</h2>
      <input type="text" id="teamName" placeholder="Enter Team Name">
      <input type="number" id="playerCount" placeholder="Number of Players (1-5)" min="1" max="5">
      <button onclick="addTeam()">Add Team</button>
    </div>
    <div class="teams" id="teams"></div>
    <div class="rules" id="rulesSection">
      <h2>Tournament Rules</h2>
      <textarea id="tournamentRules" placeholder="Enter tournament rules here..."></textarea>
      <button onclick="saveRules()">Save Rules</button>
    </div>
    <div class="points-settings" id="pointsSection">
      <h2>Points Settings</h2>
      <label>Points Per Kill:</label>
      <input type="number" id="pointsPerKill" placeholder="e.g., 10">
      <label>Points Per Position (comma-separated):</label>
      <input type="text" id="pointsPerPosition" placeholder="e.g., 100,80,60,40,20">
      <button onclick="savePointsSettings()">Save Points Settings</button>
    </div>
    <div id="createMatchSection">
      <h2>Create Match</h2>
      <input type="text" id="matchName" placeholder="Enter Match Name (e.g., Match 1)">
      <select id="matchTeams" multiple>
        <option value="all">Select All Teams</option>
      </select>
      <input type="datetime-local" id="matchTime">
      <button onclick="createMatch()">Create Match</button>
    </div>
    <div class="matches" id="matches"></div>
    <div class="announcements" id="announcementsSection">
      <h2>Announcements</h2>
      <textarea id="announcementMessage" placeholder="Enter announcement..."></textarea>
      <button onclick="addAnnouncement()">Add Announcement</button>
      <div id="announcementsList"></div>
    </div>
  </div>
  <script>
    const JSONBIN_API_KEY = '$2a$10$dQjqnLB2i7wOWKDOwzJ0UuOqSwzQWUJSBBRrbHgz4aVkml7rG89wK';
    const JSONBIN_BIN_ID = '67d385168561e97a50eb8dbb';
    let data = {
      teams: [],
      matches: [],
      rules: { content: '', visible: true },
      pointsPerKill: 10,
      pointsPerPosition: [100, 80, 60, 40, 20],
      announcements: []
    };

    async function fetchData() {
      const response = await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}/latest`, {
        headers: { 'X-Master-Key': JSONBIN_API_KEY }
      });
      const json = await response.json();
      if (json.record) data = json.record;
      renderAll();
    }

    async function saveData() {
      await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}`, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json', 'X-Master-Key': JSONBIN_API_KEY },
        body: JSON.stringify(data)
      });
    }

    function toggleSection(section) {
      switch (section) {
        case 'rules':
          data.rules.visible = !data.rules.visible;
          break;
        case 'matches':
          data.matches.forEach(match => match.visible = !match.visible);
          break;
        case 'announcements':
          data.announcements.forEach(announcement => announcement.visible = !announcement.visible);
          break;
      }
      saveData();
    }

    function renderAll() {
      renderTeams();
      renderMatches();
      renderAnnouncements();
      renderRules();
    }

    // Add other functions (addTeam, deleteTeam, editTeam, etc.) here

    fetchData();
  </script>
</body>
</html>
